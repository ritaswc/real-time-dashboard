(function(a){var b={init:function(d,c){return(function(){b.fillHtml(d,c);b.bindEvent(d,c)})()},fillHtml:function(d,c){return(function(){d.empty();if(c.current>1){d.append('<a href="javascript:;" class="prevPage">上一页</a>')}else{d.remove(".prevPage");d.append('<span class="disabled">上一页</span>')}if(c.current!=1&&c.current>=4&&c.pageCount!=4){d.append('<a href="javascript:;" class="tcdNumber">'+1+"</a>")}if(c.current-2>2&&c.current<=c.pageCount&&c.pageCount>5){d.append("<span>...</span>")}var f=c.current-2,e=c.current+2;if((f>1&&c.current<4)||c.current==1){e++}if(c.current>c.pageCount-4&&c.current>=c.pageCount){f--}for(;f<=e;f++){if(f<=c.pageCount&&f>=1){if(f!=c.current){d.append('<a href="javascript:;" class="tcdNumber">'+f+"</a>")}else{d.append('<span class="current">'+f+"</span>")}}}if(c.current+2<c.pageCount-1&&c.current>=1&&c.pageCount>5){d.append("<span>...</span>")}if(c.current!=c.pageCount&&c.current<c.pageCount-2&&c.pageCount!=4){d.append('<a href="javascript:;" class="tcdNumber">'+c.pageCount+"</a>")}if(c.current<c.pageCount){d.append('<a href="javascript:;" class="nextPage">下一页</a>')}else{d.remove(".nextPage");d.append('<span class="disabled">下一页</span>')}})()},bindEvent:function(d,c){return(function(){d.on("click","a.tcdNumber",function(){var e=parseInt(a(this).text());b.fillHtml(d,{current:e,pageCount:c.pageCount});if(typeof(c.backFn)=="function"){c.backFn(e)}});d.on("click","a.prevPage",function(){var e=parseInt(d.children("span.current").text());b.fillHtml(d,{current:e-1,pageCount:c.pageCount});if(typeof(c.backFn)=="function"){c.backFn(e-1)}});d.on("click","a.nextPage",function(){var e=parseInt(d.children("span.current").text());b.fillHtml(d,{current:e+1,pageCount:c.pageCount});if(typeof(c.backFn)=="function"){c.backFn(e+1)}})})()}};a.fn.createPage=function(d){var c=a.extend({pageCount:10,current:1,backFn:function(){}},d);b.init(this,c)}})(jQuery);